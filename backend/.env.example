# Moments API - Environment Variables Example
# Copy this file to .env and fill in your values

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=production  # development, staging, production
DEBUG=false  # Never true in production

# ============================================================================
# SERVER
# ============================================================================
HOST=0.0.0.0
PORT=8000

# ============================================================================
# SECURITY
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-this-in-production

# API Keys (comma-separated, for simple auth)
# Generate with the API key manager
API_KEYS=mk_example_key_1,mk_example_key_2

# ============================================================================
# DATABASE
# ============================================================================
# Development (SQLite)
# DATABASE_URL=sqlite+aiosqlite:///./moments.db

# Production (PostgreSQL - Railway auto-provides this)
DATABASE_URL=postgresql+asyncpg://user:password@host:5432/database

# ============================================================================
# CORS (Allowed Origins)
# ============================================================================
# Development
# ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Production - Add your iOS app domain or allow all for mobile apps
ALLOWED_ORIGINS=https://moments-app.com,https://www.moments-app.com,*

# ============================================================================
# SENTRY (Error Tracking)
# ============================================================================
# Get from: https://sentry.io
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=1.0  # 1.0 = 100% of transactions

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100

# ============================================================================
# STORAGE
# ============================================================================
STORAGE_TYPE=local  # local, s3, r2

# Local storage paths (Railway uses volumes)
UPLOAD_DIR=storage/uploads
OUTPUT_DIR=storage/outputs

# Max upload size in bytes (default: 5GB)
MAX_UPLOAD_SIZE=5368709120

# ============================================================================
# CLOUDFLARE R2 / AWS S3 (Optional)
# ============================================================================
# S3_BUCKET=moments-videos
# S3_REGION=us-east-1
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_ENDPOINT=https://your-account.r2.cloudflarestorage.com  # For Cloudflare R2

# ============================================================================
# VIDEO PROCESSING
# ============================================================================
DEFAULT_TARGET_DURATION=30  # seconds
MAX_VIDEO_DURATION=1800  # 30 minutes

# ============================================================================
# REDIS (Optional - for Celery/caching)
# ============================================================================
# REDIS_URL=redis://localhost:6379/0
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# PUSH NOTIFICATIONS (Optional - APNs)
# ============================================================================
# APNS_ENABLED=false
# APNS_KEY_PATH=/path/to/apns/key.p8
# APNS_KEY_ID=your-key-id
# APNS_TEAM_ID=your-team-id
